<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.hotel.dao.ItemsDao">
    <select id="getItemsByHotelId" parameterType="java.lang.String" resultType="items">
        select * from service where hid = '${hid}'
    </select>

    <select id="getItemsById" parameterType="java.lang.Integer" resultType="items">
        select * from service where id = #{id}
    </select>
    
    <select id="getItemsByItem" parameterType="java.lang.String" resultType="Items">
        select * from service where item = '${item}'
    </select>
    
    <select id="getItemsByState" parameterType="java.lang.Integer" resultType="Items">
        select * from service where state = #{state}
    </select>

    <select id="getItemsByNeedLevel" parameterType="java.lang.Integer" resultType="Items">
        select * from service where needLevel = #{needLevel}
    </select>
    
    <insert id="addItems" parameterType="Items">
        insert into service(hid,item,needLevel,detailContent,picUrl,beginTime,endTime,createTime,state)
         values(#{hid},#{item},#{needLevel},#{detailContent},#{picUrl},#{beginTime},#{endTime},#{createTime},#{state})
    </insert>

    <insert id="updateItems" parameterType="Items">
        update service 
        <set>
            <if test="item!=null">
                item = #{item},
            </if>
            <if test="needLevel!=null">
                needLevel = #{needLevel},
            </if>
            <if test="detailContent!=null">
                detailContent = #{detailContent},
            </if>
            <if test="picUrl!=null">
                picUrl = #{picUrl},
            </if>
            <if test="beginTime!=null">
                beginTime = #{beginTime},
            </if>
            <if test="endTime!=null">
                endTime = #{endTime},
            </if>
            <if test="createTime!=null">
                createTime = #{createTime},
            </if>
            <if test="state!=null">
                state = #{state},
            </if>
        </set>
        where id = #{id}
    </insert>

    <delete id="deleteItems" parameterType="java.lang.Integer">
        delete from service where id  = #{id}
    </delete>
</mapper>